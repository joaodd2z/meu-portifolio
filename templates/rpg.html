{% extends "base.html" %}

{% block content %}
<div class="rpg-container">
    <div class="character-name">Jo√£o Lucas</div>
    
    <div class="character-container">
        <img src="{{ url_for('static', filename='img/character.png') }}" alt="Jo√£o Lucas" class="character-image">
    </div>

    <div class="dialogue-box" id="dialogueBox">
        <div class="typing-effect" id="dialogueText"></div>
        <div class="options-container" id="optionsContainer"></div>
    </div>
</div>

<script>
const dialogues = {
    greeting: {
        text: "Ol√°! Meu nome √© Jo√£o Lucas, um desenvolvedor Full Stack apaixonado por tecnologia e inova√ß√£o. Como posso ajudar voc√™ hoje?",
        options: [
            { text: "Me conte sobre sua jornada", next: "journey" },
            { text: "Quais s√£o suas habilidades?", next: "skills" },
            { text: "Fale sobre seus projetos", next: "projects" },
            { text: "Como posso entrar em contato?", next: "contact" }
        ]
    },
    journey: {
        text: "Sou um desenvolvedor Full Stack apaixonado por tecnologia e inova√ß√£o. Minha jornada come√ßou com Python, onde desenvolvi uma forte base em programa√ß√£o e l√≥gica. Atualmente, estou focado em expandir meus conhecimentos em desenvolvimento web, trabalhando com React no frontend e Python com FastAPI no backend. Tenho experi√™ncia com bancos de dados SQL e estou sempre buscando aprender novas tecnologias e melhores pr√°ticas de desenvolvimento.",
        options: [
            { text: "Quais s√£o suas principais habilidades?", next: "skills" },
            { text: "Me conte sobre seus projetos", next: "projects" },
            { text: "Voltar ao in√≠cio", next: "greeting" }
        ]
    },
    skills: {
        text: "Minhas principais habilidades incluem:\n\nüêç Python (90%)\n‚ö° FastAPI (85%)\nüìä SQL (80%)\n‚öõÔ∏è React (75%)\nüìò TypeScript (70%)\n‚ñ≤ Next.js (75%)\nüì¶ Git (85%)\nüê≥ Docker (70%)\n\nEstou sempre me atualizando e aprendendo novas tecnologias!",
        options: [
            { text: "Como voc√™ aplica essas habilidades?", next: "projects" },
            { text: "Como voc√™ se mant√©m atualizado?", next: "learning" },
            { text: "Voltar ao in√≠cio", next: "greeting" }
        ]
    },
    projects: {
        text: "Alguns dos meus principais projetos:\n\n1. Sistema de Gerenciamento de Tarefas\n‚Ä¢ Full-stack com FastAPI e React\n‚Ä¢ Autentica√ß√£o JWT\n‚Ä¢ PostgreSQL e Tailwind CSS\n\n2. API de An√°lise de Dados\n‚Ä¢ Python com FastAPI\n‚Ä¢ Processamento com Pandas\n‚Ä¢ Cache com Redis\n\n3. Dashboard Interativo\n‚Ä¢ React com TypeScript\n‚Ä¢ D3.js para visualiza√ß√µes\n‚Ä¢ Material-UI",
        options: [
            { text: "Como voc√™ planeja seus projetos?", next: "planning" },
            { text: "Quais tecnologias voc√™ mais gosta?", next: "tech_stack" },
            { text: "Voltar ao in√≠cio", next: "greeting" }
        ]
    },
    contact: {
        text: "Ficarei feliz em conversar mais! Voc√™ pode me contatar atrav√©s de:\n\nüì± Telefone: (33) 99951-6555\nüìß Email: jl.lucas.oliveira@hotmail.com\nüìç Localiza√ß√£o: Minas Gerais\n\nRedes Sociais:\nüîó LinkedIn: <a href='https://www.linkedin.com/in/jo√£o-lucas-de-oliveira-4973b027b/' target='_blank'>Jo√£o Lucas</a>\nüíª GitHub: <a href='https://github.com/joaodd2z' target='_blank'>@joaodd2z</a>\nüì∏ Instagram: <a href='https://www.instagram.com/1joaoae/' target='_blank'>@1joaoae</a>",
        options: [
            { text: "Voltar ao in√≠cio", next: "greeting" }
        ]
    },
    learning: {
        text: "Mantenho-me atualizado atrav√©s de:\n‚Ä¢ Desenvolvimento constante de projetos pessoais\n‚Ä¢ Cursos e documenta√ß√µes t√©cnicas\n‚Ä¢ Participa√ß√£o em comunidades de desenvolvedores\n‚Ä¢ Acompanhamento das √∫ltimas tend√™ncias em tecnologia",
        options: [
            { text: "Quais s√£o seus pr√≥ximos objetivos?", next: "goals" },
            { text: "Voltar ao in√≠cio", next: "greeting" }
        ]
    },
    planning: {
        text: "Minha abordagem para projetos inclui:\n‚Ä¢ An√°lise detalhada de requisitos\n‚Ä¢ Escolha das melhores tecnologias para cada caso\n‚Ä¢ Desenvolvimento iterativo e testes cont√≠nuos\n‚Ä¢ Documenta√ß√£o clara e organizada\n‚Ä¢ Foco em c√≥digo limpo e manuten√≠vel",
        options: [
            { text: "Voltar ao in√≠cio", next: "greeting" }
        ]
    },
    tech_stack: {
        text: "Minha stack favorita atualmente √©:\n‚Ä¢ Backend: Python com FastAPI\n‚Ä¢ Frontend: React com TypeScript\n‚Ä¢ Banco de Dados: PostgreSQL\n‚Ä¢ Cache: Redis\n‚Ä¢ Containeriza√ß√£o: Docker\n‚Ä¢ Estiliza√ß√£o: Tailwind CSS",
        options: [
            { text: "Por que voc√™ escolheu essas tecnologias?", next: "tech_choice" },
            { text: "Voltar ao in√≠cio", next: "greeting" }
        ]
    },
    tech_choice: {
        text: "Escolhi essas tecnologias por:\n‚Ä¢ Alta performance e escalabilidade\n‚Ä¢ Forte tipagem e seguran√ßa\n‚Ä¢ Excelente documenta√ß√£o e comunidade\n‚Ä¢ Facilidade de manuten√ß√£o\n‚Ä¢ Produtividade no desenvolvimento",
        options: [
            { text: "Voltar ao in√≠cio", next: "greeting" }
        ]
    },
    goals: {
        text: "Meus objetivos incluem:\n‚Ä¢ Aprofundar conhecimentos em arquitetura de software\n‚Ä¢ Explorar mais sobre IA e Machine Learning\n‚Ä¢ Contribuir para projetos open source\n‚Ä¢ Compartilhar conhecimento com a comunidade",
        options: [
            { text: "Voltar ao in√≠cio", next: "greeting" }
        ]
    }
};

let currentDialogue = 'greeting';
const dialogueBox = document.getElementById('dialogueBox');
const dialogueText = document.getElementById('dialogueText');
const optionsContainer = document.getElementById('optionsContainer');

function typeText(text, callback) {
    let i = 0;
    dialogueText.innerHTML = '';
    
    function type() {
        if (i < text.length) {
            dialogueText.innerHTML += text.charAt(i);
            i++;
            setTimeout(type, 30);
        } else {
            callback();
        }
    }
    
    type();
}

function showOptions(options) {
    optionsContainer.innerHTML = '';
    options.forEach(option => {
        const button = document.createElement('button');
        button.className = 'option-button';
        button.textContent = option.text;
        button.onclick = () => {
            currentDialogue = option.next;
            updateDialogue();
        };
        optionsContainer.appendChild(button);
    });
}

function updateDialogue() {
    const dialogue = dialogues[currentDialogue];
    dialogueBox.classList.remove('show');
    
    setTimeout(() => {
        typeText(dialogue.text, () => {
            dialogueBox.classList.add('show');
            showOptions(dialogue.options);
        });
    }, 300);
}

// Iniciar o di√°logo
setTimeout(() => {
    updateDialogue();
}, 1000);

// Adicionar efeito de part√≠culas
function createParticle() {
    const particle = document.createElement('div');
    particle.className = 'particle';
    particle.style.left = Math.random() * 100 + '%';
    particle.style.top = Math.random() * 100 + '%';
    document.querySelector('.rpg-container').appendChild(particle);
    
    setTimeout(() => {
        particle.remove();
    }, 3000);
}

setInterval(createParticle, 500);
</script>

<style>
.dialogue-box a {
    color: #ffd700;
    text-decoration: none;
    transition: all 0.3s ease;
}

.dialogue-box a:hover {
    color: #fff;
    text-shadow: 0 0 10px #ffd700;
}
</style>
{% endblock %} 